#compdef servers


_servers() {
	local curcontext="$curcontext" state line
	typeset -A opt_args
	integer NORMARG

	_arguments -n \
		'(-v -n)-h[Print usage information]' \
		'(-h -v)-n[Print host symbolic names]' \
		'(-h -n)-v[Print host symbolic and actual names]' \
		'*:remote host name:->userhost'

	case "$state" in
	userhost)
		#echo "DEBUG:" ${words:$NORMARG-1} >> /tmp/completion.log
		#echo "DEBUG: words: ${words}, NORMARG: $NORMARG, names: ???" >> /tmp/completion.log
		compadd "$@" $(servers -n ${words:$NORMARG-1})
	;;
	esac
}


_servers "$@"
